ITrackUDB = LibStub("AceAddon-3.0"):NewAddon("ITrackUDB")

ITrack.defaults = {
  profile = {
    MODULE_DEBUFF = {
      HORIZONTAL_OPENING = "RIGHT",
    },
    MODULE_STUN = {
      VERTICAL_OPENING = "BOTTOM",
      DIFFICULTY_ACTIVATION = {
        [1] = false,
        [2] = false,
        [23] = false,
        [8] = true,
      },
    },
    DEBUFF_ACTIVATE = true,
    FONT_DEBUFFED_STACK_SIZE = 17,
    ANCHOR_POINT = "LEFT",
    COLOR_A_DEBUFFED_MATE = 0.300000011920929,
    COLOR_A_DEBUFFED_FOCUS = 0.300000011920929,
    COLOR_R_DEBUFFED_MATE = 1,
    ZOOM_PERCENTAGE = 0.08,
    FONT_TITRE_R_COLOR = 0.984313725490196,
    FONT_DEBUFFED_STACK = "Interface\\Addons\\ITrackU\\media\\fonts\\Homespun.ttf",
    COLOR_B_DEBUFFED_FOCUS = 0.937254901960784,
    COLOR_B_DEBUFFED_PLAYER = 0.137254901960784,
    FONT_TITRE_G_COLOR = 1,
    FONT_DEBUFFED_NAME_SIZE = 12,
    COLOR_A_DEBUFFED_PLAYER = 0.300000011920929,
    FONT_TITRE_A_COLOR = 0.780000001192093,
    WIDTH_BETWEEN_COLUMNS = 184,
    WIDTH_GLOBAL = 150,
    WIDTH_ECART_GLOBAL_PLAYER_DISTANCE = 4,
    HEIGHT_DEBUFFED = 20,
    HEIGHT_TITLE = 24,
    WIDTH_PLAYER_DISTANCE = 10,
    HEIGHT_BETWEEN_TITLE_DEBUFFED = 1,
    HEIGHT_BETWEEN_DEBUFFED = 1,
    FONT_DEBUFFED_STACK_R_COLOR = 1,
    FONT_TITRE_B_COLOR = 0.984313725490196,
    FONT_DEBUFFED_NAME = "Interface\\Addons\\ITrackU\\media\\fonts\\Expressway.ttf",
    COLOR_A_TITRE = 0.200000047683716,
    COLOR_G_TITRE = 0.219607843137255,
    COLOR_R_TITRE = 0.141176470588235,
    FONT_DEBUFFED_NAME_B_COLOR = 0.411764705882353,
    FONT_DEBUFFED_NAME_G_COLOR = 0.992156862745098,
    FONT_TITRE_SIZE = 12,
    FONT_DEBUFFED_STACK_B_COLOR = 0.345098039215686,
    FONT_DEBUFFED_NAME_R_COLOR = 0.913725490196078,
    POSITION_Y = 37.9999732971191,
    COLOR_R_DEBUFFED_PLAYER = 0.172549019607843,
    COLOR_G_DEBUFFED_FOCUS = 0.0274509803921569,
    COLOR_A_DEBUFFED_STATUSBAR = 0.4,
    COLOR_B_TITRE = 0.196078431372549,
    COLOR_B_DEBUFFED_MATE = 0.458823529411765,
    COLOR_G_DEBUFFED_MATE = 1,
    COLOR_G_DEBUFFED_PLAYER = 1,
    COLOR_A_DEBUFFED_MAXSTACK = 0.300000011920929,
    COLOR_R_DEBUFFED_MAXSTACK = 0.866666666666667,
    COLOR_G_DEBUFFED_MAXSTACK = 0.156862745098039,
    COLOR_B_DEBUFFED_MAXSTACK = 0.141176470588235,
    FONT_TITRE = "Interface\\Addons\\ITrackU\\media\\fonts\\Expressway.ttf",
    COLOR_R_DEBUFFED_FOCUS = 0.709803921568628,
    HEIGHT_BETWEEN_TITLE = 5.14,
    COLOR_R_DISTANCE_KO = 1,
    COLOR_G_DISTANCE_KO = 0.0392156862745098,
    COLOR_B_DISTANCE_KO = 0,
    COLOR_A_DISTANCE_KO = 0.700000017881393,
    COLOR_R_DISTANCE_OK = 0.0156862745098039,
    COLOR_G_DISTANCE_OK = 0.945098039215686,
    COLOR_B_DISTANCE_OK = 0,
    COLOR_A_DISTANCE_OK = 0.700000017881393,
    FONT_DEBUFFED_STACK_G_COLOR = 0.992156862745098,
    POSITION_X = 158.499984741211,
    WIDTH_STUNS = 200,
    HEIGHT_STUNS = 20,
    HEIGHT_BETWEEN_STUNS = 2,
    STUNS_POSITION_X = 0,
    STUNS_POSITION_Y = 0,
    COLOR_R_STUN_SPELL_OK = 0,
    COLOR_G_STUN_SPELL_OK = 1,
    COLOR_B_STUN_SPELL_OK = 0,
    COLOR_A_STUN_SPELL_OK = 0.3,
    COLOR_A_STUN_STATUSBAR_SPELL_OK = 1,
    COLOR_R_STUN_SPELL_KO = 1,
    COLOR_G_STUN_SPELL_KO = 0,
    COLOR_B_STUN_SPELL_KO = 0,
    COLOR_A_STUN_SPELL_KO = 0.3,
    COLOR_A_STUN_STATUSBAR_SPELL_KO = 1,
    STUN_ACTIVATE = true,
      debuffs_table = {},
      spells_stun_table = {
        [46968] = "WARRIOR",
        [255654] = "ALL",  
        [192058] = "SHAMAN",      
      },
      items_stun_table = {
        [151974] = "ALL",
      },
   },
}

table.insert(ITrack.defaults.profile.debuffs_table , 2222,{
  [2] = {
    [23920] = {
      ["IfActive"] = false,
      ["PlayerOnly"] = "All",
      ["Count"] = 0,
      ["Type"] = "Classic",
      ["TypeDistance"] = 0,
      ["Rôle"] = "All",
      ["MaxStacks"] = true,
      ["MaxStacksNumber"] = 5,
      ["Columns"] = 1,
      ["Activate"] = true,
    },
    [132404] = {
      ["IfActive"] = false,
      ["PlayerOnly"] = "All",
      ["Count"] = 0,
      ["Type"] = "Spread",
      ["TypeDistance"] = 8,
      ["Rôle"] = "All",
      ["MaxStacks"] = true,
      ["MaxStacksNumber"] = 5,
      ["Columns"] = 2,
      ["Activate"] = true,
    },
    [18499] = {
      ["IfActive"] = false,
      ["PlayerOnly"] = "All",
      ["Count"] = 0,
      ["Type"] = "Classic",
      ["TypeDistance"] = 0,
      ["Rôle"] = "All",
      ["MaxStacks"] = true,
      ["MaxStacksNumber"] = 5,
      ["Columns"] = 0,
      ["Activate"] = true,
    },
    [188783] = {
      ["IfActive"] = false,
      ["PlayerOnly"] = "All",
      ["Count"] = 0,
      ["Type"] = "Stack",
      ["TypeDistance"] = 8,
      ["Rôle"] = "All",
      ["MaxStacks"] = true,
      ["MaxStacksNumber"] = 5,
      ["Columns"] = 0,
      ["Activate"] = true,
    },
  },
})

function ITrackUDB:OnInitialize()
  self.db = LibStub("AceDB-3.0"):New("db_ITrackU", ITrack.defaults)
end

function ITrackUDB:OnEnable()
  if self.db.profile.optionA then
    self.db.profile.playerName = UnitName("player")
  end
end